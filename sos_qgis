##[WebService]=group
##procedure=string Air_Temp
##sos_layer=output vector
##showplots
library("sos4R")
library("ggplot2")
sos=SOS("http://192.168.0.12:8080/SOS/sos")
sos.request=getObservation(sos = sos, offering = procedure)
sos.result=sosResult(sos.request)
sos.coords=sosCoordinates(sos.request)
sos.data=merge(x = sos.result, y = sos.coords, by.x = 'FeatureOfInterest', by.y = 'feature')
xy=sos.data[5:4]
df=sos.data[-4:-5]
sos_layer=SpatialPointsDataFrame(coords=xy, data=df)
ggplot(sos.data, aes(x = SamplingTime, y = AirTempMontly, colour = FeatureOfInterest)) + geom_line(size=0.4) + theme(legend.title = element_text(colour="black", size=12, face="bold"))
